<div class=" container" style="margin-top:50px;">

    <div class="col-sm-12">
        <h4 class="d-inline-block" style="margin-bottom:20px;">Add new Student</h4>

    </div>

    <div *ngIf="alert" class="alert alert-success" role="alert">
        Successfully added student!
    </div>

    <form #addStudentForm="ngForm" (ngSubmit)="addStudent(); addStudentForm.resetForm()" style="margin-bottom:100px;">

        <div class="row">
            <div class="col">
                <div class="form-group row">
                    <label for="inputName" class="col-sm-2 col-form-label">Name</label>
                    <div class="col-sm-10">
                        <input type="text" name="name" class="form-control" [(ngModel)]="student.name" id="inputName"
                            placeholder="Name" required>

                        <div class="alert alert-danger" [hidden]="!error.name">
                            {{error.name }}
                        </div>

                    </div>
                </div><br>

            </div>

            <div class="col">
                <div class="form-group row">
                    <label for="inputEmail3" class="col-sm-2 col-form-label">Email</label>
                    <div class="col-sm-10">
                        <input type="email" name="email" class="form-control" [(ngModel)]="student.email"
                            id="inputEmail3" placeholder="Email" required>
                        <div class="alert alert-danger" [hidden]="!error.email">
                            {{error.email}}
                        </div>

                    </div>
                </div><br>
            </div>
        </div>


        <div class="row">
            <div class="col">
                <div class="form-group row">
                    <label for="inputPassword3" class="col-sm-2 col-form-label">Password</label>
                    <div class="col-sm-10">
                        <input type="password" name="password" class="form-control" id="inputPassword3"
                            placeholder="Password" [(ngModel)]="student.password" required>
                        <div class="alert alert-danger" [hidden]="!error.password">
                            {{error.password}}
                        </div>
                    </div>
                </div><br>
            </div>

            <div class="col">
                <div class="form-group row">
                    <label for="PasswordConfirmation" class="col-sm-2 col-form-label">Confirm Password</label>
                    <div class="col-sm-10">
                        <input type="password" name="password_confirmation" class="form-control"
                            id="PasswordConfirmation    " placeholder="Confirm Password"
                            [(ngModel)]="student.password_confirmation" required>
                        <div class="alert alert-danger" [hidden]="!error.password_confirmation">
                            {{error.password_confirmation}}
                        </div>
                    </div>
                </div><br>
            </div>
        </div>



        <div class="row">
            <div class="col">
                <div class="form-group row">
                    <label for="PasswordConfirmation" class="col-sm-2 col-form-label">Course</label>
                    <div class="col-sm-10">
                        <select name="course_id" id="course_id" class="form-control" [(ngModel)]="student.course_id"
                            required>
                            <option *ngFor="let item of courses" [ngValue]="item.id">{{item.course_name}}</option>
                        </select>
                        <div class="alert alert-danger" [hidden]="!error.course_id">
                            {{error.course_id}}
                        </div>
                    </div>
                </div><br>
            </div>

            <div class="col">
                <div class="form-group row">
                    <label for="inputYear" class="col-sm-2 col-form-label">Year</label>
                    <div class="col-sm-10">
                        <input type="text" name="year" class="form-control" [(ngModel)]="student.year" id="inputYear"
                            placeholder="Year" required>
                        <div class="alert alert-danger" [hidden]="!error.year">
                            {{error.year}}
                        </div>
                    </div>
                </div><br>
            </div>
        </div>


        <div class="row">
            <div class="col">
                <div class="form-group row">
                    <label for="inputAddress" class="col-sm-2 col-form-label">Address</label>
                    <div class="col-sm-10">
                        <input type="text" name="address" class="form-control" [(ngModel)]="student.address"
                            id="inputAddress" placeholder="Address" required>
                        <div class="alert alert-danger" [hidden]="!error.address">
                            {{error.address}}
                        </div>
                    </div>
                </div><br>
            </div>

            <div class="col">
                <div class="form-group row">
                    <label for="inputAge" class="col-sm-2 col-form-label">Age</label>
                    <div class="col-sm-10">
                        <input type="text" name="age" class="form-control" [(ngModel)]="student.age" id="inputAge"
                            placeholder="Age" required>
                        <div class="alert alert-danger" [hidden]="!error.age">
                            {{error.age}}
                        </div>
                    </div>
                </div><br>
            </div>
        </div>


        <div class="row">
            <div class="col">
                <div class="form-group row">
                    <label for="inputContactNumber" class="col-sm-2 col-form-label">Contact Number</label>
                    <div class="col-sm-10">
                        <input type="text" name="contact_number" class="form-control"
                            [(ngModel)]="student.contact_number" id="inputContactNumber" placeholder="09XXXXXXXXX"
                            required>
                        <div class="alert alert-danger" [hidden]="!error.contact_number">
                            {{error.contact_number}}
                        </div>
                    </div>
                </div><br>
            </div>

            <div class="col">
                <div class="form-group row">
                    <label for="inputBirthdate" class="col-sm-2 col-form-label">Gender</label>
                    <div class="col-sm-10">
                        <select [(ngModel)]="student.gender" name="gender" id="gender" class="form-control" required>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                        <div class="alert alert-danger" [hidden]="!error.gender">
                            {{error.gender}}
                        </div>
                    </div>
                </div><br>
            </div>
        </div>



        <div class=" form-group row">
            <div class="">
                <button type=" submit" class="btn btn-primary" [disabled]="!addStudentForm.valid">Add Student</button>

            </div>
        </div>
    </form>

    <div class="col-sm-12">
        <h4 class="d-inline-block" style="margin-bottom:20px;">List of Students</h4>

    </div>

</div>
<div class="container">

    <table class="table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Course</th>
                <th scope="col">Year</th>
                <th scope="col">Address</th>
                <th scope="col">Age</th>
                <th scope="col">Contact Number</th>
                <th scope="col">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let student of students">
                <td>{{ student.user.id }}</td>
                <td>{{ student.user.name }}</td>
                <td>{{ student.user.email }}</td>
                <td>{{ student.course.course_name }}</td>
                <td>{{ student.year }}</td>
                <td>{{ student.address }}</td>
                <td>{{ student.age }}</td>
                <td>{{ student.contact_number }}</td>
                <td>{{ student.birthdate }}</td>
                <td><button class="btn btn-danger btn-sm" (click)="deleteData(student.user.id)">Delete</button></td>
                <td><button class="btn btn-warning btn-sm"
                        routerLink="/student/edit/{{ student.user.id }}">Edit</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>